{
    "contents" : "# 98-14\ndat_98_14 = fread('data/1998-2014.csv',skip = 4, nrows=99, select=c(2:19))\n\nsectors = c(5,6,8:10,11,12,15:25,27:34,36:37,39:42,44:51,53:56,58,60,63:64,66:68,69,\n            71:72,73,75:78,80:81,83:84,85,89:90,91,94:95,96)\n\ndatf_98_14 = dat_98_14[sectors,]\ndatf_98_14 = as.data.table(t(datf_98_14))\ndatf_98_14 = datf_98_14[-1,]\ndatf_98_14 = apply(datf_98_14,2,function(x) {as.numeric(as.character(x))})\n\nmedians_98_14 = apply(datf_98_14,1,median)\n\n# 88-97\ndat_88_97 = fread('data/1988-1997.csv',skip = 4, nrows=86, select=c(2:12))\n\nsectors2 = c(5:6,8:12,15:25,27:36,39:45,47:48,49:51,53:54,56:58,61:70,72:75,79:81,84:86)\n\ndatf_88_97 = dat_88_97[sectors2,]\ndatf_88_97 = as.data.table(t(datf_88_97))\ndatf_88_97 = datf_88_97[-1,]\ndatf_88_97 = apply(datf_88_97,2,function(x) {as.numeric(as.character(x))})\n\nmedians_88_97 = apply(datf_88_97,1,median)\n\n## 70-87\n\ndat_70_87 = fread('data/1970-1987.csv',skip = 4, nrows=86, select=c(2:20))\n\ndatf_70_87 = dat_70_87[sectors2,]\ndatf_70_87 = as.data.table(t(datf_70_87))\ndatf_70_87 = datf_70_87[-1,]\ndatf_70_87 = apply(datf_70_87,2,function(x) {as.numeric(as.character(x))})\n\nmedians_70_87 = apply(datf_70_87,1,median,na.rm=T)\n\nmedians = c(medians_70_87,medians_88_97,medians_98_14)\n\nrm(datf_70_87,datf_88_97,datf_98_14,dat_70_87,dat_88_97,dat_98_14,medians_70_87,medians_88_97,medians_98_14)\n\nothersectors = data.frame(year=dat$year,median.comp=medians,gdp=dat$gdp)\nothersectors = othersectors %>% mutate(perc.gdp = (medians/gdp)*100)\n\nggplot() + geom_line(data=othersectors,aes(x=year,y=perc.gdp,group=\"\"),color=\"red\")\n",
    "created" : 1467906425483.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "932051879",
    "id" : "B8410510",
    "lastKnownWriteTime" : 1467912179,
    "path" : "/var/host/media/removable/USB DISK/CEPR/Papers/ftt-potential-revenues-2016-07/raw/othersectors.R",
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "type" : "r_source"
}